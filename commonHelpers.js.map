{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createGallery(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"gallery-item\">\n\t<a class=\"gallery-link\" href=\"${largeImageURL}\">\n\t\t<img\n            class=\"gallery-img\"\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n        />\n        <ul class=\"gallery-descript\">\n        <li class=\"gallery-descript__item\"><span class=\"gallery-descript__span\">likes</span> ${likes}</li>\n        <li class=\"gallery-descript__item\"><span class=\"gallery-descript__span\">Views</span> ${views}</li>\n        <li class=\"gallery-descript__item\"><span class=\"gallery-descript__span\">Coments</span> ${comments}</li>\n        <li class=\"gallery-descript__item\"><span class=\"gallery-descript__span\">Dowloads</span> ${downloads}</li>\n     </ul>\n\t</a>\n</li>`\n    )\n    .join('');\n}\n","export function getImage(query) {\n  const API_KEY = '44023612-008a3c81351fe07b08d2580bd';\n  const BASE_URL = 'https://pixabay.com/api/';\n  const parameters = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_typ: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 20,\n  });\n  return fetch(`${BASE_URL}?${parameters}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { createGallery } from './js/render-functions.js';\nimport { getImage } from './js/pixabay-api.js';\n\nconst form = document.querySelector('.form');\nconst listImage = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  listImage.innerHTML = '';\n  const query = event.target.elements.query.value.trim();\n\n  if (query) {\n    loader.classList.remove('is-hidden');\n    getImage(query)\n      .then(data => {\n        if (!data.hits.length) {\n          iziToast.error({\n            title: 'Error',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n          });\n        }\n        const markup = createGallery(data.hits);\n        listImage.insertAdjacentHTML('afterbegin', markup);\n        loader.classList.add('is-hidden');\n        lightbox.refresh();\n      })\n      .catch(error => console.log(error));\n  } else {\n    iziToast.error({\n      title: 'Error',\n      message: 'The search field is empty. Please check your input!',\n      position: 'topRight',\n    });\n  }\n  form.reset();\n});\n"],"names":["createGallery","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","getImage","query","API_KEY","BASE_URL","parameters","response","form","listImage","loader","lightbox","SimpleLightbox","event","data","iziToast","markup","error"],"mappings":"6vBAAO,SAASA,EAAcC,EAAK,CACjC,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,iCACyBL,CAAa;AAAA;AAAA;AAAA,mBAG3BD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA,+FAGwEC,CAAK;AAAA,+FACLC,CAAK;AAAA,iGACHC,CAAQ;AAAA,kGACPC,CAAS;AAAA;AAAA;AAAA,MAItG,EACA,KAAK,EAAE,CACZ,CC7BO,SAASC,EAASC,EAAO,CAC9B,MAAMC,EAAU,qCACVC,EAAW,2BACXC,EAAa,IAAI,gBAAgB,CACrC,IAAKF,EACL,EAAGD,EACH,UAAW,QACX,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EACD,OAAO,MAAM,GAAGE,CAAQ,IAAIC,CAAU,EAAE,EAAE,KAAKC,GAAY,CACzD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACpB,CAAG,CACH,CCRA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,GAAS,CACvCA,EAAM,eAAc,EACpBJ,EAAU,UAAY,GACtB,MAAMN,EAAQU,EAAM,OAAO,SAAS,MAAM,MAAM,OAE5CV,GACFO,EAAO,UAAU,OAAO,WAAW,EACnCR,EAASC,CAAK,EACX,KAAKW,GAAQ,CACPA,EAAK,KAAK,QACbC,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACtB,CAAW,EAEH,MAAMC,EAASvB,EAAcqB,EAAK,IAAI,EACtCL,EAAU,mBAAmB,aAAcO,CAAM,EACjDN,EAAO,UAAU,IAAI,WAAW,EAChCC,EAAS,QAAO,CACxB,CAAO,EACA,MAAMM,GAAS,QAAQ,IAAIA,CAAK,CAAC,GAEpCF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sDACT,SAAU,UAChB,CAAK,EAEHP,EAAK,MAAK,CACZ,CAAC"}